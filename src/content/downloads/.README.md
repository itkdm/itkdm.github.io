# ä¸‹è½½ä¸­å¿ƒé…ç½®è¯´æ˜

## æ¦‚è¿°

ä¸‹è½½ä¸­å¿ƒæ”¯æŒå¤šç§ä¸‹è½½æºç±»å‹ï¼ŒåŒ…æ‹¬ï¼š
- **ç›´æ¥ä¸‹è½½é“¾æ¥**ï¼šå¦‚é˜¿é‡Œäº‘OSSã€CDNç­‰
- **GitHub Releases**ï¼šè‡ªåŠ¨ä»GitHubè·å–æœ€æ–°ç‰ˆæœ¬
- **ç½‘ç›˜é“¾æ¥**ï¼šç™¾åº¦ç½‘ç›˜ã€å¤¸å…‹ç½‘ç›˜ã€é˜¿é‡Œäº‘ç›˜ç­‰

## æ–‡ä»¶ç»“æ„

æ¯ä¸ªä¸‹è½½é¡¹ä½¿ç”¨ä¸€ä¸ª Markdown æ–‡ä»¶ï¼ŒæŒ‰è¯­è¨€åˆ†ç±»ï¼š

```
src/content/downloads/
â”œâ”€â”€ zh/
â”‚   â””â”€â”€ side-lying-monitor.md
â””â”€â”€ en/
    â””â”€â”€ side-lying-monitor.md
```

## æ–‡ä»¶æ ¼å¼

### Frontmatter å­—æ®µ

#### å¿…éœ€å­—æ®µ

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `name` | string | åº”ç”¨åç§°ï¼ˆä¸­æ–‡ï¼‰ |
| `lang` | enum | è¯­è¨€ï¼š`"zh"` æˆ– `"en"` |
| `sources` | array | ä¸‹è½½æºé…ç½®æ•°ç»„ |

#### å¯é€‰å­—æ®µ

| å­—æ®µ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `nameEn` | string | - | åº”ç”¨åç§°ï¼ˆè‹±æ–‡ï¼‰ |
| `description` | string | - | æè¿°ï¼ˆä¸­æ–‡ï¼‰ |
| `descriptionEn` | string | - | æè¿°ï¼ˆè‹±æ–‡ï¼‰ |
| `icon` | string | - | å›¾æ ‡ï¼ˆemojiï¼‰ï¼Œå¦‚ï¼š`"ğŸ“±"` |
| `platform` | string | - | å¹³å°ï¼Œå¦‚ï¼š`"Android"`, `"iOS"` |
| `slug` | string | - | å”¯ä¸€æ ‡è¯†ï¼Œä¸å¡«åˆ™ä½¿ç”¨æ–‡ä»¶å |
| `order` | number | `0` | æ’åºå·ï¼Œæ•°å­—è¶Šå°è¶Šé å‰ |

### ä¸‹è½½æºé…ç½®

#### 1. GitHub Release (`github`)

ä»GitHub Releasesè‡ªåŠ¨è·å–æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯ã€‚

```yaml
sources:
  - type: github
    repo: "owner/repo"  # GitHubä»“åº“ï¼Œæ ¼å¼ï¼šowner/repo
    channel: stable     # å‘å¸ƒæ¸ é“ï¼šstable | beta | alphaï¼Œé»˜è®¤ï¼šstable
    preferAssetsRegex: ".*\\.apk$"  # ä¼˜å…ˆåŒ¹é…çš„èµ„äº§æ–‡ä»¶åæ­£åˆ™ï¼ˆå¯é€‰ï¼‰
    showSha256: true    # æ˜¯å¦æ˜¾ç¤ºSHA256æ ¡éªŒå€¼ï¼ˆå¯é€‰ï¼Œé»˜è®¤ï¼šfalseï¼‰
```

#### 2. ç›´æ¥ä¸‹è½½é“¾æ¥ (`direct`)

ç›´æ¥ä¸‹è½½é“¾æ¥ï¼Œå¦‚é˜¿é‡Œäº‘OSSã€CDNç­‰ã€‚

```yaml
sources:
  - type: direct
    name: "ç›´æ¥ä¸‹è½½ï¼ˆé˜¿é‡Œäº‘OSSï¼‰"
    url: "https://example.com/releases/app-v1.0.0.apk"
    size: 15728640  # æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼Œå¯é€‰ï¼‰
    platform: android  # å¹³å°æ ‡è¯†ï¼ˆå¯é€‰ï¼‰ï¼šandroid, ios, windows, mac, linux
    arch: universal    # æ¶æ„ï¼ˆå¯é€‰ï¼‰ï¼šarm64, universal, x86_64
```

#### 3. ç™¾åº¦ç½‘ç›˜ (`baidu`)

```yaml
sources:
  - type: baidu
    name: "ç™¾åº¦ç½‘ç›˜"
    url: "https://pan.baidu.com/s/xxxxxxxx"
    code: "1234"  # æå–ç ï¼ˆå¯é€‰ï¼‰
    platform: android  # å¹³å°æ ‡è¯†ï¼ˆå¯é€‰ï¼‰
    arch: universal   # æ¶æ„ï¼ˆå¯é€‰ï¼‰
```

#### 4. å¤¸å…‹ç½‘ç›˜ (`quark`)

```yaml
sources:
  - type: quark
    name: "å¤¸å…‹ç½‘ç›˜"
    url: "https://pan.quark.cn/s/xxxxxxxx"
    platform: android
```

#### 5. é˜¿é‡Œäº‘ç›˜ (`aliyun`)

```yaml
sources:
  - type: aliyun
    name: "é˜¿é‡Œäº‘ç›˜"
    url: "https://aliyundrive.com/s/xxxxxxxx"
    code: "1234"  # æå–ç ï¼ˆå¯é€‰ï¼‰
```

#### 6. å…¶ä»–ç½‘ç›˜ (`other`)

```yaml
sources:
  - type: other
    name: "å…¶ä»–ç½‘ç›˜"
    url: "https://example.com/share/xxxxxxxx"
    code: "1234"  # æå–ç ï¼ˆå¯é€‰ï¼‰
```

## å®Œæ•´ç¤ºä¾‹

### ä¸­æ–‡ç‰ˆæœ¬

åˆ›å»ºæ–‡ä»¶ï¼š`src/content/downloads/zh/side-lying-monitor.md`

```markdown
---
name: "ä¾§èººç›‘æµ‹ï¼ˆæ•è¾¹å“¨ï¼‰"
nameEn: "Side Lying Monitor"
description: "æ™ºèƒ½ä¾§èººç›‘æµ‹ä¸å¥åº·æé†’åº”ç”¨"
descriptionEn: "Smart side-lying monitoring and health reminder app"
icon: "ğŸ“±"
platform: "Android"
lang: "zh"
order: 1
sources:
  - type: github
    repo: "itkdm/side-lying-monitor"
    channel: stable
    preferAssetsRegex: ".*\\.apk$"
    showSha256: true
  - type: direct
    name: "ç›´æ¥ä¸‹è½½ï¼ˆé˜¿é‡Œäº‘OSSï¼‰"
    url: "https://example.com/releases/app-v1.0.0.apk"
    size: 15728640
    platform: android
    arch: universal
  - type: baidu
    name: "ç™¾åº¦ç½‘ç›˜"
    url: "https://pan.baidu.com/s/xxxxxxxx"
    code: "1234"
    platform: android
  - type: quark
    name: "å¤¸å…‹ç½‘ç›˜"
    url: "https://pan.quark.cn/s/xxxxxxxx"
    platform: android
---

è¿™é‡Œæ˜¯åº”ç”¨çš„è¯¦ç»†æè¿°ï¼Œæ”¯æŒ Markdown æ ¼å¼ã€‚

## æ ¸å¿ƒåŠŸèƒ½

- âœ… åŠŸèƒ½1
- âœ… åŠŸèƒ½2
```

### è‹±æ–‡ç‰ˆæœ¬

åˆ›å»ºæ–‡ä»¶ï¼š`src/content/downloads/en/side-lying-monitor.md`

```markdown
---
name: "Side Lying Monitor"
nameEn: "Side Lying Monitor"
description: "Smart side-lying monitoring and health reminder app"
descriptionEn: "Smart side-lying monitoring and health reminder app"
icon: "ğŸ“±"
platform: "Android"
lang: "en"
order: 1
sources:
  - type: github
    repo: "itkdm/side-lying-monitor"
    channel: stable
    preferAssetsRegex: ".*\\.apk$"
    showSha256: true
  - type: direct
    name: "Direct Download (Aliyun OSS)"
    url: "https://example.com/releases/app-v1.0.0.apk"
    size: 15728640
    platform: android
    arch: universal
---

Here is the detailed description of the app, supporting Markdown format.

## Core Features

- âœ… Feature 1
- âœ… Feature 2
```

## æ„å»ºæµç¨‹

1. åˆ›å»ºæˆ–ç¼–è¾‘ä¸‹è½½é¡¹ Markdown æ–‡ä»¶ï¼ˆåœ¨ `src/content/downloads/[lang]/` ç›®å½•ä¸‹ï¼‰
2. è¿è¡Œæ„å»ºå‘½ä»¤ï¼š`npm run build`
3. æ„å»ºæ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œ `scripts/fetch-releases.mjs` è„šæœ¬
4. è„šæœ¬ä¼šï¼š
   - è¯»å–æ‰€æœ‰ Markdown æ–‡ä»¶
   - å¯¹äºGitHubç±»å‹çš„ä¸‹è½½æºï¼Œä»GitHub APIè·å–æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯
   - ç”Ÿæˆ `src/generated/releases.json` æ–‡ä»¶
5. ä¸‹è½½é¡µé¢ä¼šè¯»å– `releases.json` å¹¶æ¸²æŸ“

## GitHub Tokenï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦è®¿é—®ç§æœ‰ä»“åº“æˆ–æé«˜APIé€Ÿç‡é™åˆ¶ï¼Œå¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
export GITHUB_TOKEN=your_github_token
```

æˆ–åœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½®ï¼š
```
GITHUB_TOKEN=your_github_token
```

## æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶å‘½å**ï¼šæ–‡ä»¶åä¼šä½œä¸º `id`ï¼Œå¦‚æœè®¾ç½®äº† `slug` å­—æ®µåˆ™ä½¿ç”¨ `slug` ä½œä¸º `id`
2. **å¤šè¯­è¨€**ï¼šåŒä¸€åº”ç”¨çš„ä¸­è‹±æ–‡ç‰ˆæœ¬åº”ä½¿ç”¨ç›¸åŒçš„æ–‡ä»¶åå’Œ `slug`ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨åˆå¹¶
3. **GitHub APIé™åˆ¶**ï¼šæœªè®¤è¯è¯·æ±‚æ¯å°æ—¶é™åˆ¶60æ¬¡ï¼Œå»ºè®®è®¾ç½®`GITHUB_TOKEN`
4. **æ–‡ä»¶å¤§å°**ï¼šç›´æ¥ä¸‹è½½é“¾æ¥çš„`size`å­—æ®µå•ä½ä¸ºå­—èŠ‚
5. **æ’åº**ï¼šä½¿ç”¨`order`å­—æ®µæ§åˆ¶ä¸‹è½½é¡¹åœ¨é¡µé¢ä¸Šçš„æ˜¾ç¤ºé¡ºåºï¼Œæ•°å­—è¶Šå°è¶Šé å‰
6. **ä¸‹è½½æºé¡ºåº**ï¼š`sources` æ•°ç»„ä¸­çš„é¡ºåºå†³å®šäº†åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºçš„é¡ºåº

## ä¼˜åŠ¿

ç›¸æ¯”ä¹‹å‰çš„ JSON é…ç½®æ–‡ä»¶æ–¹å¼ï¼Œä½¿ç”¨ Markdown æ–‡ä»¶æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

- âœ… **æ›´æ¸…æ™°**ï¼šæ¯ä¸ªä¸‹è½½é¡¹ä¸€ä¸ªæ–‡ä»¶ï¼Œæ˜“äºç®¡ç†
- âœ… **æ›´çµæ´»**ï¼šå¯ä»¥åœ¨ Markdown ä¸­æ·»åŠ è¯¦ç»†æè¿°
- âœ… **æ›´æ˜“ç»´æŠ¤**ï¼šæ–‡ä»¶åˆ†æ•£ï¼Œä¸ä¼šå‡ºç°å•ä¸ªé…ç½®æ–‡ä»¶è‡ƒè‚¿çš„é—®é¢˜
- âœ… **ç‰ˆæœ¬æ§åˆ¶å‹å¥½**ï¼šæ¯ä¸ªæ–‡ä»¶çš„å˜æ›´å†å²æ¸…æ™°
- âœ… **ç¬¦åˆé¡¹ç›®è§„èŒƒ**ï¼šä¸å…¶ä»–æ ç›®ï¼ˆblogã€docsã€projectsï¼‰ä¿æŒä¸€è‡´
